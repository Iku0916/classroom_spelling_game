<% content_for :title, "ã‚²ãƒ¼ãƒ ã«å‚åŠ ã™ã‚‹ | Vocano!" %>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<div class="lobby-container" id='game_waiting' data-room-id="<%= @game_room.id %>">
  <div class="edit-card-body">
    
    <div class="dot-loader">
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
    </div>

    <h2 class="waiting-status">ã‚²ãƒ¼ãƒ ãŒå§‹ã¾ã‚‹ã®ã‚’å¾…ã£ã¦ã„ã¾ã™...</h2>

    <div class="tutorial-slider">
      <div class="swiper mySwiper">
        <div class="swiper-wrapper">
          
          <div class="swiper-slide">
            <div class="slide-container">
              <span class="step-label label-purple">STEP 1</span>
              <%= image_tag "step1.png", class: "tutorial-img", style: "width: 100%; max-width: 320px; height: auto; object-fit: contain; margin: 10px auto; display: block;" %>
              <div class="instruction-box"><p>è‹±å˜èªã‚’å…¥åŠ›ã—ã¦é€ä¿¡ï¼ <br> OK! or ã‚¨ãƒ³ã‚¿ãƒ¼ã‚­ãƒ¼</p></div>
            </div>
          </div>

          <div class="swiper-slide">
            <div class="slide-container">
              <span class="step-label label-purple">STEP 2</span>
              <%= image_tag "step2.png", class: "tutorial-img", style: "width: 100%; max-width: 320px; height: auto; object-fit: contain; margin: 10px auto; display: block;" %>
              <div class="instruction-box"><p>æ­£è§£ã§ãƒã‚¤ãƒ³ãƒˆGETï¼</p></div>
            </div>
          </div>

          <div class="swiper-slide">
            <div class="slide-container">
              <span class="step-label label-purple">STEP 3</span>
              <%= image_tag "step3.png", class: "tutorial-img", style: "width: 100%; max-width: 320px; height: auto; object-fit: contain; margin: 10px auto; display: block;" %>
              <div class="instruction-box"><p>ä¸æ­£è§£ã¯ãƒã‚¤ãƒŠã‚¹ï¼ <br> æ­£ã—ã„ã‚¹ãƒšãƒ«ã‚’ç¢ºèªã—ã‚ˆã†ï¼</p></div>
            </div>
          </div>

          <div class="swiper-slide">
            <div class="slide-container">
              <span class="step-label label-purple">STEP 4</span>
              <%= image_tag "step4.png", class: "tutorial-img", style: "width: 100%; max-width: 320px; height: auto; object-fit: contain; margin: 10px auto; display: block;" %>
              <div class="instruction-box"><p>é«˜å¾—ç‚¹ã‚’ç›®æŒ‡ãã†ï¼</p></div>
            </div>
          </div>

        </div>
        <div class="swiper-pagination"></div>
      </div>
    </div>
    <div class="status-box">
      <p class="lobby-title">ãƒ›ã‚¹ãƒˆãŒé–‹å§‹ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨<br>è‡ªå‹•çš„ã«ã‚²ãƒ¼ãƒ ãŒå§‹ã¾ã‚Šã¾ã™ï¼</p>
    </div>

    <div class="tips-section">
      <span class="code-badge">æº–å‚™ã¯ã„ã„ï¼Ÿ ğŸš€</span>
    </div>

  </div>
</div>

<script>
  document.addEventListener('turbo:load', function() {
    const swiperEl = document.querySelector(".mySwiper");
    if (!swiperEl) return;

    const swiper = new Swiper(".mySwiper", {
      // ğŸ’¡ ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚’ã€Œslideã€ã«å¤‰æ›´ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
      effect: "slide", 
      grabCursor: true,
      loop: false,
      centeredSlides: true, // ä¸­å¤®ã«é…ç½®
      slidesPerView: 1,     // 1ç”»é¢ã«1æš
      spaceBetween: 20,     // ã‚¹ãƒ©ã‚¤ãƒ‰é–“ã®éš™é–“
      autoplay: { 
        delay: 5000, 
        disableOnInteraction: false 
      },
      pagination: { 
        el: ".swiper-pagination", 
        clickable: true 
      },
    });
  });
</script>
